{"version":3,"sources":["../../src/cli/docs.ts"],"sourcesContent":["#!/usr/bin/env node\r\n\r\nimport { spawn } from 'child_process';\r\nimport { join, dirname } from 'path';\r\nimport fs from 'fs-extra';\r\n\r\nconst PORT = process.env.PORT || 3333;\r\nconst NPX_CMD = process.platform === 'win32' ? 'npx.cmd' : 'npx';\r\n\r\n// Paket dizinini bul\r\nconst packageDir = join(dirname(__dirname), '..');\r\n\r\n// Tarayƒ±cƒ±yƒ± a√ßmak i√ßin basit bir fonksiyon\r\nfunction openBrowser(url: string) {\r\n  const start = process.platform === 'win32' ? 'start' :\r\n               process.platform === 'darwin' ? 'open' : 'xdg-open';\r\n               \r\n  spawn(start, [url], { shell: true });\r\n}\r\n\r\nfunction runCommand(command: string, args: string[], options: Record<string, unknown>): Promise<void> {\r\n  return new Promise((resolve, reject) => {\r\n    const child = spawn(command, args, {\r\n      ...options,\r\n      stdio: 'inherit',\r\n      shell: true\r\n    });\r\n\r\n    child.on('close', (code) => {\r\n      if (code === 0) {\r\n        resolve();\r\n      } else {\r\n        reject(new Error(`Command failed with code ${code}`));\r\n      }\r\n    });\r\n\r\n    child.on('error', reject);\r\n  });\r\n}\r\n\r\nasync function startDocs() {\r\n  console.log('üöÄ Strateji UI dok√ºmantasyonu ba≈ülatƒ±lƒ±yor...');\r\n\r\n  try {\r\n    const tempDir = join(process.cwd(), '.strateji-docs');\r\n    \r\n    // Temp klas√∂r√ºn√º temizle\r\n    await fs.remove(tempDir);\r\n    await fs.ensureDir(tempDir);\r\n\r\n    // Build dosyalarƒ±nƒ± kopyala\r\n    console.log('üì¶ Dok√ºmantasyon dosyalarƒ± hazƒ±rlanƒ±yor...');\r\n    await fs.copy(join(packageDir, '.next'), join(tempDir, '.next'));\r\n    await fs.copy(join(packageDir, 'public'), join(tempDir, 'public'));\r\n    await fs.copy(join(packageDir, 'src/app/docs'), join(tempDir, 'src/app/docs'));\r\n\r\n    // package.json olu≈ütur\r\n    await fs.writeJSON(join(tempDir, 'package.json'), {\r\n      name: 'strateji-docs',\r\n      private: true,\r\n      scripts: {\r\n        start: 'next start'\r\n      },\r\n      dependencies: {\r\n        next: '>=15.0.0',\r\n        react: '^19.0.0',\r\n        'react-dom': '^19.0.0'\r\n      }\r\n    });\r\n\r\n    // Port numarasƒ±nƒ± .env dosyasƒ±na yaz\r\n    await fs.writeFile(join(tempDir, '.env.local'), `PORT=${PORT}`);\r\n\r\n    // Tarayƒ±cƒ±yƒ± a√ß\r\n    setTimeout(() => {\r\n      openBrowser(`http://localhost:${PORT}`);\r\n    }, 3000);\r\n\r\n    // Sunucuyu ba≈ülat\r\n    console.log(`üìö Dok√ºmantasyon sunucusu ba≈ülatƒ±lƒ±yor (Port: ${PORT})...`);\r\n    await runCommand(NPX_CMD, ['next', 'start'], {\r\n      cwd: tempDir,\r\n      env: { ...process.env, PORT: PORT.toString() }\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('‚ùå Bir hata olu≈ütu:', error);\r\n    process.exit(1);\r\n  }\r\n}\r\n\r\nstartDocs().catch((error) => {\r\n  console.error('‚ùå Bir hata olu≈ütu:', error);\r\n  process.exit(1);\r\n}); "],"mappings":";+yBAEA,IAAAA,EAAsB,yBACtBC,EAA8B,gBAC9BC,EAAe,uBAEf,IAAMC,EAAO,QAAQ,IAAI,MAAQ,KAC3BC,EAAU,QAAQ,WAAa,QAAU,UAAY,MAGrDC,KAAa,WAAK,WAAQ,SAAS,EAAG,IAAI,EAGhD,SAASC,EAAYC,EAAa,CAChC,IAAMC,EAAQ,QAAQ,WAAa,QAAU,QAChC,QAAQ,WAAa,SAAW,OAAS,cAEtD,SAAMA,EAAO,CAACD,CAAG,EAAG,CAAE,MAAO,EAAK,CAAC,CACrC,CAEA,SAASE,EAAWC,EAAiBC,EAAgBC,EAAiD,CACpG,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,IAAMC,KAAQ,SAAML,EAASC,EAAMK,EAAAC,EAAA,GAC9BL,GAD8B,CAEjC,MAAO,UACP,MAAO,EACT,EAAC,EAEDG,EAAM,GAAG,QAAUG,GAAS,CACtBA,IAAS,EACXL,EAAQ,EAERC,EAAO,IAAI,MAAM,4BAA4BI,CAAI,EAAE,CAAC,CAExD,CAAC,EAEDH,EAAM,GAAG,QAASD,CAAM,CAC1B,CAAC,CACH,CAEA,eAAeK,GAAY,CACzB,QAAQ,IAAI,wEAA+C,EAE3D,GAAI,CACF,IAAMC,KAAU,QAAK,QAAQ,IAAI,EAAG,gBAAgB,EAGpD,MAAM,EAAAC,QAAG,OAAOD,CAAO,EACvB,MAAM,EAAAC,QAAG,UAAUD,CAAO,EAG1B,QAAQ,IAAI,qEAA4C,EACxD,MAAM,EAAAC,QAAG,QAAK,QAAKhB,EAAY,OAAO,KAAG,QAAKe,EAAS,OAAO,CAAC,EAC/D,MAAM,EAAAC,QAAG,QAAK,QAAKhB,EAAY,QAAQ,KAAG,QAAKe,EAAS,QAAQ,CAAC,EACjE,MAAM,EAAAC,QAAG,QAAK,QAAKhB,EAAY,cAAc,KAAG,QAAKe,EAAS,cAAc,CAAC,EAG7E,MAAM,EAAAC,QAAG,aAAU,QAAKD,EAAS,cAAc,EAAG,CAChD,KAAM,gBACN,QAAS,GACT,QAAS,CACP,MAAO,YACT,EACA,aAAc,CACZ,KAAM,WACN,MAAO,UACP,YAAa,SACf,CACF,CAAC,EAGD,MAAM,EAAAC,QAAG,aAAU,QAAKD,EAAS,YAAY,EAAG,QAAQjB,CAAI,EAAE,EAG9D,WAAW,IAAM,CACfG,EAAY,oBAAoBH,CAAI,EAAE,CACxC,EAAG,GAAI,EAGP,QAAQ,IAAI,0EAAiDA,CAAI,MAAM,EACvE,MAAMM,EAAWL,EAAS,CAAC,OAAQ,OAAO,EAAG,CAC3C,IAAKgB,EACL,IAAKJ,EAAAC,EAAA,GAAK,QAAQ,KAAb,CAAkB,KAAMd,EAAK,SAAS,CAAE,EAC/C,CAAC,CAEH,OAASmB,EAAO,CACd,QAAQ,MAAM,+BAAsBA,CAAK,EACzC,QAAQ,KAAK,CAAC,CAChB,CACF,CAEAH,EAAU,EAAE,MAAOG,GAAU,CAC3B,QAAQ,MAAM,+BAAsBA,CAAK,EACzC,QAAQ,KAAK,CAAC,CAChB,CAAC","names":["import_child_process","import_path","import_fs_extra","PORT","NPX_CMD","packageDir","openBrowser","url","start","runCommand","command","args","options","resolve","reject","child","__spreadProps","__spreadValues","code","startDocs","tempDir","fs","error"]}